<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>No Hallu - AI λ¬Έν— κ²€μ¦ λ„κµ¬</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            max-width: 900px;
            width: 100%;
            padding: 40px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            color: #333;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .header p {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }
        
        .header .subtitle {
            color: #667eea;
            font-size: 0.9rem;
            font-style: italic;
        }
        
        .input-section {
            margin-bottom: 30px;
        }
        
        .input-label {
            display: block;
            margin-bottom: 10px;
            color: #555;
            font-weight: 500;
        }
        
        .citation-input {
            width: 100%;
            min-height: 200px;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            resize: vertical;
            font-family: 'Courier New', monospace;
            transition: border-color 0.3s;
            line-height: 1.6;
        }
        
        .citation-input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .btn {
            flex: 1;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-primary:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: #f0f0f0;
            color: #666;
        }
        
        .btn-secondary:hover {
            background: #e0e0e0;
        }
        
        .results {
            display: none;
        }
        
        .summary-box {
            background: #f0f4ff;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 2px solid #667eea;
        }
        
        .summary-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 15px;
        }
        
        .summary-content {
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        .suspicious-found {
            color: #c53030;
            font-weight: 600;
        }
        
        .all-clear {
            color: #276749;
            font-weight: 600;
        }
        
        .result-item {
            background: #f9f9f9;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
            position: relative;
        }
        
        .result-item.suspicious {
            border-left-color: #f56565;
            background: #fff5f5;
        }
        
        .result-item.checking {
            border-left-color: #fbbf24;
            background: #fffbeb;
        }
        
        .result-number {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #e0e0e0;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
        }
        
        .result-title {
            font-weight: 600;
            margin-bottom: 12px;
            color: #333;
            padding-right: 50px;
        }
        
        .search-link {
            display: inline-block;
            margin-top: 12px;
            padding: 8px 16px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .search-link:hover {
            background: #5a67d8;
            transform: translateY(-1px);
        }
        
        .status-badge {
            display: inline-block;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .badge-suspicious {
            background: #fed7d7;
            color: #c53030;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            display: none;
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #f0f0f0;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: #667eea;
            width: 0%;
            transition: width 0.3s;
        }
        
        .loading-text {
            color: #666;
            margin-top: 15px;
        }
        
        .tips {
            background: #f7fafc;
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
        }
        
        .tips h3 {
            color: #4a5568;
            margin-bottom: 10px;
        }
        
        .tips ul {
            color: #718096;
            margin-left: 20px;
            line-height: 1.8;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 25px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .button-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>No Hallu π”</h1>
            <p>AIκ°€ μƒμ„±ν• κ°€μ§ λ¬Έν—μ„ κ²€μ¦ν•λ” κµμ‚¬μ© λ„κµ¬</p>
            <p class="subtitle">"ν•λ‚μ κ°€μ§ λ¬Έν—λ§ μ°Ύμ•„λ„ μ„±κ³µ!"</p>
        </div>
        
        <div class="input-section">
            <label class="input-label">ν•™μƒμ΄ μ μ¶ν• μ°Έκ³ λ¬Έν— μ „μ²΄λ¥Ό λ¶™μ—¬λ„£μΌμ„Έμ”:</label>
            <textarea 
                class="citation-input" 
                id="citationInput"
                placeholder="μμ‹:&#10;κΉ€μ² μ(2023). ν•κµ­ ν„λ€μ†μ„¤μ μ΄ν•΄. μ„μΈ: λ¬Έν•™μ‚¬μƒμ‚¬.&#10;μ΄μν¬(2022). &quot;AI μ‹λ€μ λ¬Έν•™κµμ΅&quot;. γ€κµ­μ–΄κµμ΅μ—°κµ¬γ€, 45, 23-45.&#10;λ°•λ―Όμ(2021). λ””μ§€ν„Έ μ‹λ€μ μΈλ¬Έν•™ μ—°κµ¬. μ„μΈ: λ―Έλμ¶νμ‚¬.&#10;...&#10;&#10;ν• μ¤„μ— ν•λ‚μ”©, λλ” μ „μ²΄λ¥Ό κ·Έλ€λ΅ λ¶™μ—¬λ„£μΌμ„Έμ”."
            ></textarea>
        </div>
        
        <div class="button-group">
            <button class="btn btn-primary" onclick="checkAllCitations()">
                π” μΌκ΄„ κ²€μ¦ μ‹μ‘
            </button>
            <button class="btn btn-secondary" onclick="clearInput()">μ§€μ°κΈ°</button>
        </div>
        
        <div class="loading" id="loading">
            <p style="font-size: 1.1rem; font-weight: 600; margin-bottom: 20px;">
                λ¬Έν—μ„ κ²€μ¦ν•κ³  μμµλ‹λ‹¤...
            </p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <p class="loading-text" id="loadingText">0/0 κ²€μ‚¬ μ¤‘...</p>
        </div>
        
        <div class="results" id="results">
            <div class="summary-box" id="summaryBox"></div>
            <h3 style="margin-bottom: 20px;">μƒμ„Έ κ²€μ¦ κ²°κ³Ό:</h3>
            <div id="resultsList"></div>
        </div>
        
        <div class="tips">
            <h3>π’΅ μ‚¬μ© μ•λ‚΄</h3>
            <ul>
                <li><strong>μΌκ΄„ κ²€μ¦:</strong> μ°Έκ³ λ¬Έν— μ „μ²΄λ¥Ό ν• λ²μ— κ²€μ‚¬ν•©λ‹λ‹¤</li>
                <li><strong>Google κ²€μƒ‰ ν™μ©:</strong> κ° λ¬Έν—μ„ Google/Google Scholarμ—μ„ κ²€μƒ‰ν•  μ μλ” λ§ν¬ μ κ³µ</li>
                <li><strong>μμ‹¬ ν¨ν„΄ κ°μ§€:</strong> AIκ°€ μμ£Ό μƒμ„±ν•λ” κ°€μ§ λ¬Έν— ν¨ν„΄ μλ™ νƒμ§€</li>
                <li><strong>ν¨μ¨μ  κ²€μ¦:</strong> ν•λ‚μ κ°€μ§ λ¬Έν—λ§ λ°κ²¬ν•΄λ„ AI μ‚¬μ© μ—¬λ¶€ νλ‹¨ κ°€λ¥</li>
            </ul>
        </div>
    </div>
    
    <script>
        // μμ‹¬μ¤λ¬μ΄ ν¨ν„΄ λ°μ΄ν„°λ² μ΄μ¤
        const suspiciousPatterns = {
            titles: [
                /ν•κµ­.*μ μ΄ν•΄/,
                /ν„λ€.*μ—°κµ¬/,
                /.*ν•™ κ°λ΅ /,
                /21μ„ΈκΈ°.*/,
                /4μ°¨ μ‚°μ—…νλ…/,
                /λ””μ§€ν„Έ μ‹λ€μ/,
                /AI.*μΈλ¬Έν•™/,
                /λΉ…λ°μ΄ν„°μ™€.*/
            ],
            publishers: [
                /λ―Έλμ¶νμ‚¬/,
                /νμ‹ λ¬Έν™”μ‚¬/,
                /λ””μ§€ν„Έμ¶ν/,
                /21μ„ΈκΈ°λ¶μ¤/,
                /AIμ¶ν/
            ],
            journals: [
                /AI.*μ—°κµ¬/,
                /λ””μ§€ν„Έ.*ν•™νμ§€/,
                /λ―Έλ.*μ—°κµ¬/,
                /νμ‹ .*μ €λ„/
            ],
            pageNumbers: [
                /pp\. 1-100/,
                /100-200/,
                /1-50$/
            ]
        };
        
        function extractCitationInfo(citation) {
            const cleanCitation = citation.trim();
            
            // μ—°λ„ μ¶”μ¶
            const yearMatch = cleanCitation.match(/\((\d{4})\)/);
            const year = yearMatch ? yearMatch[1] : null;
            
            // μ €μλ… μ¶”μ¶ (λ” μ •κµν• ν¨ν„΄)
            const authorMatch = cleanCitation.match(/^([κ°€-ν£A-Za-z\s,&]+)(?=\s*\()/);
            const author = authorMatch ? authorMatch[1].trim() : null;
            
            // μ λ© μ¶”μ¶ (λ‹¤μ–‘ν• ν•μ‹ μ§€μ›)
            let title = null;
            const titlePatterns = [
                /[γ€γ€""]([^γ€γ€""]+)[γ€γ€""]/,
                /\)\.\s*([^.]+)\.\s*(?:μ„μΈ|λ¶€μ‚°|λ€κµ¬|μΈμ²|κ΄‘μ£Ό|λ€μ „|μΈμ‚°|μ¶ν)/,
                /\)\.\s*"([^"]+)"/,
                /\)\.\s*([^.]+)\.\s*\d+κ¶/
            ];
            
            for (const pattern of titlePatterns) {
                const match = cleanCitation.match(pattern);
                if (match) {
                    title = match[1].trim();
                    break;
                }
            }
            
            return { 
                author, 
                year, 
                title, 
                original: cleanCitation,
                searchQuery: `${author || ''} ${title || ''} ${year || ''}`.trim()
            };
        }
        
        function analyzeCitation(citationInfo) {
            let suspicionLevel = 0;
            let reasons = [];
            
            // μ λ© ν¨ν„΄ κ²€μ‚¬
            if (citationInfo.title) {
                suspiciousPatterns.titles.forEach(pattern => {
                    if (pattern.test(citationInfo.title)) {
                        suspicionLevel += 25;
                        reasons.push("μμ‹¬μ¤λ¬μ΄ μ λ© ν¨ν„΄");
                    }
                });
            }
            
            // μ¶νμ‚¬ κ²€μ‚¬
            suspiciousPatterns.publishers.forEach(pattern => {
                if (pattern.test(citationInfo.original)) {
                    suspicionLevel += 30;
                    reasons.push("μμ‹¬μ¤λ¬μ΄ μ¶νμ‚¬");
                }
            });
            
            // ν•™μ μ§€ κ²€μ‚¬
            suspiciousPatterns.journals.forEach(pattern => {
                if (pattern.test(citationInfo.original)) {
                    suspicionLevel += 30;
                    reasons.push("μμ‹¬μ¤λ¬μ΄ ν•™μ μ§€λ…");
                }
            });
            
            // νμ΄μ§€ λ²νΈ κ²€μ‚¬
            suspiciousPatterns.pageNumbers.forEach(pattern => {
                if (pattern.test(citationInfo.original)) {
                    suspicionLevel += 20;
                    reasons.push("μμ‹¬μ¤λ¬μ΄ νμ΄μ§€ λ²νΈ");
                }
            });
            
            // μ—°λ„ κ²€μ‚¬
            if (citationInfo.year) {
                const year = parseInt(citationInfo.year);
                if (year > 2024) {
                    suspicionLevel += 50;
                    reasons.push("λ―Έλ λ‚ μ§");
                } else if (year === 2023 || year === 2024) {
                    suspicionLevel += 10;
                    reasons.push("μµμ‹  μ¶νλ¬Ό (ν™•μΈ ν•„μ”)");
                }
            }
            
            // μ λ© κΈΈμ΄ κ²€μ‚¬
            if (citationInfo.title) {
                if (citationInfo.title.length < 5) {
                    suspicionLevel += 15;
                    reasons.push("λ„λ¬΄ μ§§μ€ μ λ©");
                } else if (citationInfo.title.length > 50) {
                    suspicionLevel += 10;
                    reasons.push("λ„λ¬΄ κΈ΄ μ λ©");
                }
            }
            
            return {
                suspicionLevel,
                reasons,
                isSuspicious: suspicionLevel >= 40
            };
        }
        
        async function checkAllCitations() {
            const input = document.getElementById('citationInput').value.trim();
            if (!input) {
                alert('μ°Έκ³ λ¬Έν—μ„ μ…λ ¥ν•΄μ£Όμ„Έμ”.');
                return;
            }
            
            // λ¬Έν— λ¶„λ¦¬ (μ¤„λ°”κΏ λλ” λ²νΈλ΅ κµ¬λ¶„)
            let citations = input.split(/\n+/)
                .map(line => line.trim())
                .filter(line => line && line.length > 10)
                .map(line => line.replace(/^\d+[\.)]\s*/, '')); // λ²νΈ μ κ±°
            
            if (citations.length === 0) {
                alert('μ ν¨ν• μ°Έκ³ λ¬Έν—μ΄ μ—†μµλ‹λ‹¤.');
                return;
            }
            
            // UI μ΄κΈ°ν™”
            document.getElementById('loading').style.display = 'block';
            document.getElementById('results').style.display = 'none';
            
            const progressFill = document.getElementById('progressFill');
            const loadingText = document.getElementById('loadingText');
            
            // κ²°κ³Ό μ €μ¥
            const results = [];
            let suspiciousCount = 0;
            
            // κ° λ¬Έν— κ²€μ‚¬ (μ‹λ®¬λ μ΄μ…)
            for (let i = 0; i < citations.length; i++) {
                // μ§„ν–‰λ¥  μ—…λ°μ΄νΈ
                const progress = ((i + 1) / citations.length) * 100;
                progressFill.style.width = `${progress}%`;
                loadingText.textContent = `${i + 1}/${citations.length} κ²€μ‚¬ μ¤‘...`;
                
                // λ¬Έν— λ¶„μ„
                const citationInfo = extractCitationInfo(citations[i]);
                const analysis = analyzeCitation(citationInfo);
                
                if (analysis.isSuspicious) {
                    suspiciousCount++;
                }
                
                results.push({
                    ...citationInfo,
                    ...analysis,
                    index: i + 1
                });
                
                // μ‹κ°μ  ν¨κ³Όλ¥Ό μ„ν• μ§€μ—°
                await new Promise(resolve => setTimeout(resolve, 300));
            }
            
            // κ²°κ³Ό ν‘μ‹
            displayResults(results, suspiciousCount);
            
            document.getElementById('loading').style.display = 'none';
            document.getElementById('results').style.display = 'block';
        }
        
        function displayResults(results, suspiciousCount) {
            // μ”μ•½ λ°•μ¤ μ—…λ°μ΄νΈ
            const summaryBox = document.getElementById('summaryBox');
            
            if (suspiciousCount > 0) {
                summaryBox.innerHTML = `
                    <div class="summary-title">π¨ κ²€μ¦ μ™„λ£</div>
                    <div class="summary-content">
                        μ΄ <strong>${results.length}κ°</strong> λ¬Έν— μ¤‘ 
                        <span class="suspicious-found">${suspiciousCount}κ°μ μμ‹¬μ¤λ¬μ΄ λ¬Έν—</span>μ„ λ°κ²¬ν–μµλ‹λ‹¤.<br><br>
                        <strong>κ²°λ΅ :</strong> μ΄ μ°Έκ³ λ¬Έν— λ©λ΅μ€ AIλ¥Ό μ‚¬μ©ν•΄ μ‘μ„±λμ—μ„ κ°€λ¥μ„±μ΄ λ†’μµλ‹λ‹¤.
                    </div>
                `;
            } else {
                summaryBox.innerHTML = `
                    <div class="summary-title">β… κ²€μ¦ μ™„λ£</div>
                    <div class="summary-content">
                        μ΄ <strong>${results.length}κ°</strong> λ¬Έν—μ„ κ²€μ‚¬ν–μΌλ‚ 
                        <span class="all-clear">μμ‹¬μ¤λ¬μ΄ ν¨ν„΄μ„ λ°κ²¬ν•μ§€ λ»ν–μµλ‹λ‹¤</span>.<br><br>
                        <strong>μ°Έκ³ :</strong> μμ‹¬ ν¨ν„΄μ΄ μ—†λ‹¤κ³  ν•΄μ„ AIλ¥Ό μ‚¬μ©ν•μ§€ μ•μ•λ‹¤κ³  ν™•μ‹ ν•  μλ” μ—†μµλ‹λ‹¤.
                        μ•„λ Google κ²€μƒ‰ λ§ν¬λ΅ μ¶”κ°€ ν™•μΈμ„ κ¶μ¥ν•©λ‹λ‹¤.
                    </div>
                `;
            }
            
            // μƒμ„Έ κ²°κ³Ό ν‘μ‹
            const resultsList = document.getElementById('resultsList');
            resultsList.innerHTML = '';
            
            results.forEach(result => {
                const resultDiv = document.createElement('div');
                resultDiv.className = `result-item ${result.isSuspicious ? 'suspicious' : 'checking'}`;
                
                const googleSearchUrl = `https://www.google.com/search?q=${encodeURIComponent(result.searchQuery)}`;
                const scholarSearchUrl = `https://scholar.google.com/scholar?q=${encodeURIComponent(result.searchQuery)}`;
                
                resultDiv.innerHTML = `
                    <div class="result-number">${result.index}</div>
                    <div class="result-title">${result.original}</div>
                    ${result.reasons.length ? `
                        <div style="color: #666; margin: 10px 0; font-size: 14px;">
                            β οΈ ${result.reasons.join(', ')}
                        </div>
                    ` : ''}
                    <div style="margin-top: 12px;">
                        <a href="${googleSearchUrl}" target="_blank" class="search-link">
                            π” Googleμ—μ„ κ²€μƒ‰
                        </a>
                        <a href="${scholarSearchUrl}" target="_blank" class="search-link" style="margin-left: 10px;">
                            π“ Google Scholarμ—μ„ κ²€μƒ‰
                        </a>
                        ${result.isSuspicious ? '<span class="status-badge badge-suspicious">μμ‹¬λ¨</span>' : ''}
                    </div>
                `;
                
                resultsList.appendChild(resultDiv);
            });
        }
        
        function clearInput() {
            document.getElementById('citationInput').value = '';
            document.getElementById('results').style.display = 'none';
        }
        
        // μμ‹ λ°μ΄ν„° μ¶”κ°€ κΈ°λ¥
        function loadExample() {
            const exampleCitations = `1. κΉ€μ² μ(2023). ν•κµ­ ν„λ€μ†μ„¤μ μ΄ν•΄. μ„μΈ: λ¬Έν•™μ‚¬μƒμ‚¬.
2. μ΄μν¬(2022). "AI μ‹λ€μ λ¬Έν•™κµμ΅". γ€κµ­μ–΄κµμ΅μ—°κµ¬γ€, 45, 23-45.
3. λ°•λ―Όμ(2025). λ””μ§€ν„Έ μ‹λ€μ μΈλ¬Έν•™ μ—°κµ¬. μ„μΈ: λ―Έλμ¶νμ‚¬.
4. μ •μμ§„(2023). "4μ°¨ μ‚°μ—…νλ…κ³Ό ν•κµ­λ¬Έν•™μ λ―Έλ". γ€AIλ¬Έν•™μ—°κµ¬γ€, 12(3), pp. 100-200.
5. μµλ™ν›(2021). γ€λΉ…λ°μ΄ν„°μ™€ λ¬Έν•™ λΉ„ν‰γ€. μ„μΈ: νμ‹ λ¬Έν™”μ‚¬.`;
            
            document.getElementById('citationInput').value = exampleCitations;
        }
    </script>
</body>
</html>
